---
// WhyChooseUs.astro - Why choose us / competitive advantages section
import theme from '../../lib/theme';

export interface Props {
  // Content props
  eyebrow?: string;
  headline?: string;
  description?: string;
  
  // Layout props
  variant?: 'split' | 'centered' | 'alternating';
  showStats?: boolean;
  showVideo?: boolean;
  
  // Main feature/video
  mainFeature?: {
    title: string;
    description: string;
    videoUrl?: string;
    imageUrl?: string;
    imageAlt?: string;
  };
  
  // Advantages/USPs
  advantages?: Array<{
    icon: string;
    title: string;
    description: string;
    stat?: {
      number: string;
      label: string;
      prefix?: string;
      suffix?: string;
    };
  }>;
  
  // Overall stats
  stats?: Array<{
    number: string;
    label: string;
    description: string;
    prefix?: string;
    suffix?: string;
  }>;
}

const {
  eyebrow = "Why Choose Us",
  headline = "Experience That Delivers Results",
  description = "We don't just build digital solutions‚Äîwe craft experiences that drive real business growth. Here's what sets us apart from the competition.",
  variant = "split",
  showStats = true,
  showVideo = false,
  mainFeature = {
    title: "Proven Track Record of Success",
    description: "With over 5 years of experience and 150+ successful projects, we've helped businesses across industries achieve their digital transformation goals. Our data-driven approach ensures every project delivers measurable ROI.",
    imageUrl: "/why-choose-us-hero.jpg",
    imageAlt: "Team collaborating on digital strategy"
  },
  advantages = [
    {
      icon: "‚ö°",
      title: "Lightning Fast Delivery",
      description: "We use agile methodologies and cutting-edge tools to deliver projects 40% faster than industry standards without compromising quality.",
      stat: {
        number: "40",
        suffix: "%",
        label: "Faster Delivery"
      }
    },
    {
      icon: "üéØ",
      title: "ROI-Focused Approach",
      description: "Every decision we make is driven by data and focused on maximizing your return on investment. Our clients see an average 5x ROI within the first year.",
      stat: {
        number: "5",
        suffix: "x",
        label: "Average ROI"
      }
    },
    {
      icon: "üîí",
      title: "Enterprise-Grade Security",
      description: "Your data and digital assets are protected with bank-level security measures, compliance certifications, and regular security audits.",
      stat: {
        number: "99.9",
        suffix: "%",
        label: "Uptime Guarantee"
      }
    },
    {
      icon: "ü§ù",
      title: "Dedicated Support Team",
      description: "Get 24/7 support from a dedicated team that knows your business inside out. No call centers, no ticket numbers‚Äîjust real people who care.",
      stat: {
        number: "24",
        suffix: "/7",
        label: "Support Available"
      }
    },
    {
      icon: "üöÄ",
      title: "Future-Proof Technology",
      description: "We build with tomorrow in mind, using the latest technologies and scalable architectures that grow with your business for years to come.",
      stat: {
        number: "100",
        suffix: "%",
        label: "Scalable Solutions"
      }
    },
    {
      icon: "üí°",
      title: "Strategic Partnership",
      description: "We're not just vendors‚Äîwe're strategic partners invested in your long-term success. Our team becomes an extension of yours.",
      stat: {
        number: "98",
        suffix: "%",
        label: "Client Retention"
      }
    }
  ],
  stats = [
    {
      number: "150",
      suffix: "+",
      label: "Projects Completed",
      description: "Successfully delivered across various industries"
    },
    {
      number: "98",
      suffix: "%",
      label: "Client Satisfaction",
      description: "Consistently rated excellent by our clients"
    },
    {
      number: "5",
      suffix: "+",
      label: "Years Experience",
      description: "Deep expertise in digital transformation"
    },
    {
      number: "24",
      suffix: "/7",
      label: "Support Coverage",
      description: "Round-the-clock technical assistance"
    }
  ]
} = Astro.props;
---

<section class="why-choose-us" aria-labelledby="why-choose-us-headline">
  <div class="why-choose-us-container">
    
    <!-- Section Header -->
    <div class="section-header" data-animate="fade-up">
      <span class="section-eyebrow">{eyebrow}</span>
      <h2 id="why-choose-us-headline" class="section-headline">
        {headline}
      </h2>
      <p class="section-description">
        {description}
      </p>
    </div>

    <!-- Main Content -->
    <div class={`main-content variant-${variant}`}>
      
      <!-- Main Feature / Hero -->
      <div class="main-feature" data-animate="fade-right" data-delay="200">
        <div class="feature-content">
          <h3 class="feature-title">{mainFeature.title}</h3>
          <p class="feature-description">{mainFeature.description}</p>
          
          <!-- Trust Indicators -->
          <div class="trust-indicators">
            <div class="trust-item">
              <div class="trust-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <span>Certified Experts</span>
            </div>
            
            <div class="trust-item">
              <div class="trust-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <span>Award Winning</span>
            </div>
            
            <div class="trust-item">
              <div class="trust-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M12 22S2 16 2 9C2 7.9 2.9 7 4 7C5.1 7 6 7.9 6 9C6 10.1 6.9 11 8 11S10 10.1 10 9C10 7.9 10.9 7 12 7S14 7.9 14 9C14 10.1 14.9 11 16 11S18 10.1 18 9C18 7.9 18.9 7 20 7C21.1 7 22 7.9 22 9C22 16 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <span>Fully Insured</span>
            </div>
          </div>
        </div>

        <!-- Feature Visual -->
        <div class="feature-visual">
          {showVideo && mainFeature.videoUrl ? (
            <div class="video-container">
              <video 
                class="feature-video"
                poster={mainFeature.imageUrl}
                controls
                preload="metadata"
              >
                <source src={mainFeature.videoUrl} type="video/mp4" />
                Your browser does not support the video tag.
              </video>
              <div class="video-overlay">
                <button class="play-button" aria-label="Play video">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                  </svg>
                </button>
              </div>
            </div>
          ) : (
            <div class="image-container">
              <img 
                src={mainFeature.imageUrl}
                alt={mainFeature.imageAlt}
                class="feature-image"
                width="600"
                height="400"
                loading="lazy"
              />
              <div class="image-decoration">
                <div class="decoration-blob blob-1"></div>
                <div class="decoration-blob blob-2"></div>
              </div>
            </div>
          )}
        </div>
      </div>

      <!-- Advantages Grid -->
      <div class="advantages-section" data-animate="fade-up" data-delay="400">
        <h3 class="advantages-title">What Makes Us Different</h3>
        <div class="advantages-grid">
          {advantages.map((advantage, index) => (
            <div 
              class="advantage-card"
              data-animate="fade-up"
              data-delay={500 + (index * 100)}
              key={index}
            >
              <div class="advantage-icon">
                <span class="icon-emoji" role="img" aria-hidden="true">
                  {advantage.icon}
                </span>
              </div>
              
              <div class="advantage-content">
                <h4 class="advantage-title">{advantage.title}</h4>
                <p class="advantage-description">{advantage.description}</p>
                
                {advantage.stat && (
                  <div class="advantage-stat">
                    <span class="stat-number">
                      {advantage.stat.prefix && <span class="stat-prefix">{advantage.stat.prefix}</span>}
                      <span class="stat-value" data-count-to={advantage.stat.number}>0</span>
                      {advantage.stat.suffix && <span class="stat-suffix">{advantage.stat.suffix}</span>}
                    </span>
                    <span class="stat-label">{advantage.stat.label}</span>
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    {showStats && stats.length > 0 && (
      <div class="stats-section" data-animate="fade-up" data-delay="800">
        <h3 class="stats-title">Proven Results</h3>
        <div class="stats-grid">
          {stats.map((stat, index) => (
            <div class="stat-card" key={index}>
              <div class="stat-number">
                {stat.prefix && <span class="stat-prefix">{stat.prefix}</span>}
                <span class="stat-value" data-count-to={stat.number}>0</span>
                {stat.suffix && <span class="stat-suffix">{stat.suffix}</span>}
              </div>
              <div class="stat-label">{stat.label}</div>
              <div class="stat-description">{stat.description}</div>
            </div>
          ))}
        </div>
      </div>
    )}
  </div>

  <!-- Background Elements -->
  <div class="background-decoration" aria-hidden="true">
    <div class="decoration-shapes">
      <div class="bg-shape shape-1"></div>
      <div class="bg-shape shape-2"></div>
      <div class="bg-shape shape-3"></div>
    </div>
  </div>
</section>

<style define:vars={{
  primaryColor: theme.colors.primary[500],
  primaryHover: theme.colors.primary[600],
  primaryLight: theme.colors.primary[100],
  secondaryColor: theme.colors.secondary[500],
  successColor: theme.colors.success[500],
  neutralWhite: theme.colors.neutral[50],
  neutralGray: theme.colors.neutral[500],
  neutralDark: theme.colors.neutral[900],
  neutralLight: theme.colors.neutral[100],
  borderColor: theme.colors.border,
  fontSans: theme.typography.fontFamily.sans.join(', '),
  fontDisplay: theme.typography.fontFamily.display.join(', '),
  spacing4: theme.spacing[4],
  spacing6: theme.spacing[6],
  spacing8: theme.spacing[8],
  spacing12: theme.spacing[12],
  spacing16: theme.spacing[16],
  spacing20: theme.spacing[20],
  spacing24: theme.spacing[24],
  spacing32: theme.spacing[32],
  borderRadiusLg: theme.borderRadius.lg,
  borderRadius2xl: theme.borderRadius['2xl'],
  shadowMd: theme.boxShadow.md,
  shadowLg: theme.boxShadow.lg,
  shadow2xl: theme.boxShadow['2xl']
}}>
  .why-choose-us {
    position: relative;
    padding: var(--spacing24) 0;
    background: linear-gradient(135deg, #fafafa 0%, #ffffff 50%, #f8fafc 100%);
    overflow: hidden;
  }

  .why-choose-us-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 var(--spacing4);
    position: relative;
    z-index: 10;
  }

  @media (min-width: 768px) {
    .why-choose-us-container {
      padding: 0 var(--spacing6);
    }
  }

  /* Section Header */
  .section-header {
    text-align: center;
    margin-bottom: var(--spacing20);
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .section-eyebrow {
    display: inline-block;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--primaryColor);
    background: var(--primaryLight);
    padding: var(--spacing2) var(--spacing4);
    border-radius: var(--borderRadiusLg);
    margin-bottom: var(--spacing6);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .section-headline {
    font-family: var(--fontDisplay);
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1.2;
    color: var(--neutralDark);
    margin: 0 0 var(--spacing6) 0;
  }

  @media (min-width: 768px) {
    .section-headline {
      font-size: 3rem;
    }
  }

  .section-description {
    font-size: 1.125rem;
    line-height: 1.7;
    color: var(--neutralGray);
    margin: 0;
  }

  /* Main Content */
  .main-content {
    margin-bottom: var(--spacing20);
  }

  /* Main Feature */
  .main-feature {
    display: grid;
    gap: var(--spacing12);
    align-items: center;
    margin-bottom: var(--spacing20);
  }

  .variant-split .main-feature {
    grid-template-columns: 1fr;
  }

  @media (min-width: 1024px) {
    .variant-split .main-feature {
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing16);
    }
  }

  .feature-content {
    order: 1;
  }

  @media (min-width: 1024px) {
    .variant-split .feature-content {
      order: 1;
    }
    
    .variant-split .feature-visual {
      order: 2;
    }
  }

  .feature-title {
    font-family: var(--fontDisplay);
    font-size: 2rem;
    font-weight: 600;
    color: var(--neutralDark);
    margin: 0 0 var(--spacing6) 0;
    line-height: 1.3;
  }

  .feature-description {
    font-size: 1.125rem;
    line-height: 1.7;
    color: var(--neutralGray);
    margin: 0 0 var(--spacing8) 0;
  }

  /* Trust Indicators */
  .trust-indicators {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing6);
  }

  .trust-item {
    display: flex;
    align-items: center;
    gap: var(--spacing2);
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--neutralGray);
  }

  .trust-icon {
    color: var(--successColor);
  }

  /* Feature Visual */
  .feature-visual {
    position: relative;
  }

  .image-container,
  .video-container {
    position: relative;
    border-radius: var(--borderRadius2xl);
    overflow: hidden;
    box-shadow: var(--shadow2xl);
  }

  .feature-image,
  .feature-video {
    width: 100%;
    height: auto;
    display: block;
  }

  .video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
    opacity: 1;
    transition: opacity 0.3s ease;
  }

  .video-container:hover .video-overlay {
    opacity: 0.8;
  }

  .play-button {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: var(--neutralWhite);
    color: var(--primaryColor);
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: var(--shadowLg);
  }

  .play-button:hover {
    transform: scale(1.1);
    background: var(--primaryColor);
    color: var(--neutralWhite);
  }

  /* Image Decoration */
  .image-decoration {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
  }

  .decoration-blob {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--primaryColor), var(--secondaryColor));
    opacity: 0.1;
    animation: float 6s ease-in-out infinite;
  }

  .blob-1 {
    width: 100px;
    height: 100px;
    top: 10%;
    right: 10%;
    animation-delay: 0s;
  }

  .blob-2 {
    width: 60px;
    height: 60px;
    bottom: 10%;
    left: 10%;
    animation-delay: 3s;
  }

  /* Advantages Section */
  .advantages-section {
    margin-bottom: var(--spacing16);
  }

  .advantages-title {
    font-family: var(--fontDisplay);
    font-size: 1.875rem;
    font-weight: 600;
    color: var(--neutralDark);
    text-align: center;
    margin: 0 0 var(--spacing12) 0;
  }

  .advantages-grid {
    display: grid;
    gap: var(--spacing8);
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .advantages-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .advantages-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Advantage Cards */
  .advantage-card {
    background: var(--neutralWhite);
    border: 1px solid var(--borderColor);
    border-radius: var(--borderRadius2xl);
    padding: var(--spacing8);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .advantage-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow2xl);
    border-color: var(--primaryColor);
  }

  .advantage-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primaryColor), var(--secondaryColor));
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .advantage-card:hover::before {
    opacity: 1;
  }

  .advantage-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    background: var(--primaryLight);
    border-radius: var(--borderRadius2xl);
    margin-bottom: var(--spacing6);
    transition: all 0.3s ease;
  }

  .advantage-card:hover .advantage-icon {
    background: var(--primaryColor);
    transform: scale(1.1);
  }

  .icon-emoji {
    font-size: 1.75rem;
  }

  .advantage-content h4 {
    font-family: var(--fontDisplay);
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--neutralDark);
    margin: 0 0 var(--spacing4) 0;
    line-height: 1.3;
  }

  .advantage-description {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: var(--neutralGray);
    margin: 0 0 var(--spacing6) 0;
  }

  .advantage-stat {
    border-top: 1px solid var(--borderColor);
    padding-top: var(--spacing4);
    text-align: center;
  }

  .advantage-stat .stat-number {
    display: block;
    font-family: var(--fontDisplay);
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primaryColor);
    line-height: 1;
    margin-bottom: var(--spacing2);
  }

  .advantage-stat .stat-label {
    font-size: 0.875rem;
    color: var(--neutralGray);
    font-weight: 500;
  }

  /* Stats Section */
  .stats-section {
    background: var(--neutralWhite);
    border-radius: var(--borderRadius2xl);
    padding: var(--spacing16);
    box-shadow: var(--shadowLg);
    border: 1px solid var(--borderColor);
  }

  .stats-title {
    font-family: var(--fontDisplay);
    font-size: 1.875rem;
    font-weight: 600;
    color: var(--neutralDark);
    text-align: center;
    margin: 0 0 var(--spacing12) 0;
  }

  .stats-grid {
    display: grid;
    gap: var(--spacing8);
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .stats-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .stats-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .stat-card {
    text-align: center;
    padding: var(--spacing6);
    border-radius: var(--borderRadiusLg);
    background: linear-gradient(135deg, var(--neutralLight) 0%, var(--neutralWhite) 100%);
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, var(--primaryLight) 0%, var(--neutralWhite) 100%);
  }

  .stat-card .stat-number {
    font-family: var(--fontDisplay);
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primaryColor);
    line-height: 1;
    margin-bottom: var(--spacing2);
    display: block;
  }

  .stat-card .stat-label {
    font-size: 1rem;
    font-weight: 600;
    color: var(--neutralDark);
    margin-bottom: var(--spacing2);
    display: block;
  }

  .stat-card .stat-description {
    font-size: 0.875rem;
    color: var(--neutralGray);
    line-height: 1.4;
  }

  /* Background Decoration */
  .background-decoration {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
    pointer-events: none;
    overflow: hidden;
  }

  .decoration-shapes {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .bg-shape {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--primaryColor), var(--secondaryColor));
    opacity: 0.05;
    animation: float 8s ease-in-out infinite;
  }

  .shape-1 {
    width: 300px;
    height: 300px;
    top: 10%;
    left: -150px;
    animation-delay: 0s;
  }

  .shape-2 {
    width: 200px;
    height: 200px;
    top: 60%;
    right: -100px;
    animation-delay: 2s;
  }

  .shape-3 {
    width: 150px;
    height: 150px;
    bottom: 10%;
    left: 30%;
    animation-delay: 4s;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }

  /* Animations */
  [data-animate] {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease;
  }

  [data-animate="fade-right"] {
    transform: translateX(-30px);
  }

  [data-animate].animate {
    opacity: 1;
    transform: translateY(0);
  }

  [data-animate="fade-right"].animate {
    transform: translateX(0);
  }

  /* Mobile Optimizations */
  @media (max-width: 640px) {
    .why-choose-us {
      padding: var(--spacing16) 0;
    }

    .section-headline {
      font-size: 2rem;
    }

    .feature-title {
      font-size: 1.5rem;
    }

    .trust-indicators {
      justify-content: center;
    }

    .decoration-shapes {
      display: none;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .advantage-card,
    .stat-card,
    .bg-shape,
    .decoration-blob {
      animation: none;
      transition: none;
    }
    
    .advantage-card:hover,
    .stat-card:hover {
      transform: none;
    }
  }
</style>

<script>
  // Why Choose Us Animation Controller
  class WhyChooseUsAnimations {
    constructor() {
      this.animatedElements = document.querySelectorAll('.why-choose-us [data-animate]');
      this.statElements = document.querySelectorAll('.why-choose-us [data-count-to]');
      this.advantageCards = document.querySelectorAll('.advantage-card');
      
      this.init();
    }

    init() {
      this.setupScrollAnimations();
      this.setupCounters();
      this.setupCardInteractions();
      this.setupVideoPlayback();
    }

    setupScrollAnimations() {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !entry.target.hasAnimated) {
            const delay = parseInt(entry.target.dataset.delay) || 0;
            setTimeout(() => {
              entry.target.classList.add('animate');
            }, delay);
            entry.target.hasAnimated = true;
          }
        });
      }, observerOptions);

      this.animatedElements.forEach(el => {
        observer.observe(el);
      });
    }

    setupCounters() {
      const observerOptions = {
        threshold: 0.3,
        rootMargin: '0px 0px -100px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !entry.target.hasAnimated) {
            this.animateCounter(entry.target);
            entry.target.hasAnimated = true;
          }
        });

        }, observerOptions);

     this.statElements.forEach(el => {
       observer.observe(el);
     });
   }

   animateCounter(element) {
     const target = parseInt(element.dataset.countTo);
     const duration = 2000; // 2 seconds
     const stepTime = Math.abs(Math.floor(duration / target));
     
     let counter = 0;
     const increment = Math.ceil(target / 50);
     const timer = setInterval(() => {
       counter += increment;
       if (counter >= target) {
         counter = target;
         clearInterval(timer);
       }
       element.textContent = counter.toLocaleString();
     }, stepTime);
   }

   setupCardInteractions() {
     this.advantageCards.forEach(card => {
       // Add subtle parallax effect
       card.addEventListener('mouseenter', () => {
         card.style.setProperty('--card-hover', '1');
       });

       card.addEventListener('mouseleave', () => {
         card.style.setProperty('--card-hover', '0');
       });

       // Add click analytics tracking
       card.addEventListener('click', () => {
         const title = card.querySelector('.advantage-title')?.textContent;
         // Analytics tracking would go here
         console.log(`Advantage card clicked: ${title}`);
       });
     });
   }

   setupVideoPlayback() {
     const playButton = document.querySelector('.play-button');
     const video = document.querySelector('.feature-video');
     const overlay = document.querySelector('.video-overlay');

     if (playButton && video && overlay) {
       playButton.addEventListener('click', () => {
         video.play();
         overlay.style.display = 'none';
       });

       video.addEventListener('pause', () => {
         overlay.style.display = 'flex';
       });

       video.addEventListener('ended', () => {
         overlay.style.display = 'flex';
       });
     }
   }
 }

 // Initialize when DOM is loaded
 document.addEventListener('DOMContentLoaded', () => {
   new WhyChooseUsAnimations();
 });

 // Performance optimization
 if ('requestIdleCallback' in window) {
   requestIdleCallback(() => {
     // Load additional animations during idle time
     console.log('Why Choose Us animations optimized');
   });
 }
</script>